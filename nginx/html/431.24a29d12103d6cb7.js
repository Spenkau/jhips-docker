"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[431],{2431:(F,g,s)=>{s.r(g),s.d(g,{default:()=>b});var d=s(4716),_=s(3821),c=s(6223),p=s(2941),h=s(7);class C{constructor(a,t){this.name=a,this.level=t}}var n=s(9212),m=s(1474),f=s(8156);let x=(()=>{class o{constructor(t,e){this.http=t,this.applicationConfigService=e}changeLevel(t,e){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${t}`),{configuredLevel:e})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}static#n=this.\u0275fac=function(e){return new(e||o)(n.LFG(m.eN),n.LFG(f.y))};static#t=this.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var u=s(6814),U=s(5597),Z=s(8423);function v(o,a){1&o&&(n._uU(0,"\n      "),n.TgZ(1,"div",12),n._uU(2,"\n        "),n._UZ(3,"div",13),n._uU(4,"\n      "),n.qZA(),n._uU(5,"\n    "))}function T(o,a){if(1&o){const t=n.EpF();n._uU(0,"\n          "),n.TgZ(1,"tr"),n._uU(2,"\n            "),n.TgZ(3,"td"),n._uU(4,"\n              "),n.TgZ(5,"small"),n._uU(6),n.ALo(7,"slice"),n.qZA(),n._uU(8,"\n            "),n.qZA(),n._uU(9,"\n            "),n.TgZ(10,"td"),n._uU(11,"\n              "),n.TgZ(12,"button",14),n.NdJ("click",function(){const r=n.CHM(t).$implicit,l=n.oxw(2);return n.KtG(l.changeLevel(r.name,"TRACE"))}),n._uU(13,"\n                TRACE\n              "),n.qZA(),n._uU(14,"\n\n              "),n.TgZ(15,"button",14),n.NdJ("click",function(){const r=n.CHM(t).$implicit,l=n.oxw(2);return n.KtG(l.changeLevel(r.name,"DEBUG"))}),n._uU(16,"\n                DEBUG\n              "),n.qZA(),n._uU(17,"\n\n              "),n.TgZ(18,"button",14),n.NdJ("click",function(){const r=n.CHM(t).$implicit,l=n.oxw(2);return n.KtG(l.changeLevel(r.name,"INFO"))}),n._uU(19,"\n                INFO\n              "),n.qZA(),n._uU(20,"\n\n              "),n.TgZ(21,"button",14),n.NdJ("click",function(){const r=n.CHM(t).$implicit,l=n.oxw(2);return n.KtG(l.changeLevel(r.name,"WARN"))}),n._uU(22,"\n                WARN\n              "),n.qZA(),n._uU(23,"\n\n              "),n.TgZ(24,"button",14),n.NdJ("click",function(){const r=n.CHM(t).$implicit,l=n.oxw(2);return n.KtG(l.changeLevel(r.name,"ERROR"))}),n._uU(25,"\n                ERROR\n              "),n.qZA(),n._uU(26,"\n\n              "),n.TgZ(27,"button",14),n.NdJ("click",function(){const r=n.CHM(t).$implicit,l=n.oxw(2);return n.KtG(l.changeLevel(r.name,"OFF"))}),n._uU(28,"\n                OFF\n              "),n.qZA(),n._uU(29,"\n            "),n.qZA(),n._uU(30,"\n          "),n.qZA(),n._uU(31,"\n        ")}if(2&o){const t=a.$implicit;n.xp6(6),n.Oqu(n.Dn7(7,7,t.name,0,140)),n.xp6(6),n.Q6J("ngClass","TRACE"===t.level?"btn-primary":"btn-light"),n.xp6(3),n.Q6J("ngClass","DEBUG"===t.level?"btn-success":"btn-light"),n.xp6(3),n.Q6J("ngClass","INFO"===t.level?"btn-info":"btn-light"),n.xp6(3),n.Q6J("ngClass","WARN"===t.level?"btn-warning":"btn-light"),n.xp6(3),n.Q6J("ngClass","ERROR"===t.level?"btn-danger":"btn-light"),n.xp6(3),n.Q6J("ngClass","OFF"===t.level?"btn-secondary":"btn-light")}}const A=o=>({total:o});function L(o,a){if(1&o){const t=n.EpF();n._uU(0,"\n  "),n.TgZ(1,"div",0),n._uU(2,"\n    "),n.TgZ(3,"h2",1),n._uU(4,"\u041b\u043e\u0433\u0438"),n.qZA(),n._uU(5,"\n\n    "),n.YNc(6,v,6,0),n.TgZ(7,"p",2),n._uU(8),n.qZA(),n._uU(9,"\n\n    "),n.TgZ(10,"span",3),n._uU(11,"\u0424\u0438\u043b\u044c\u0442\u0440"),n.qZA(),n._uU(12,"\n    "),n.TgZ(13,"input",4),n.NdJ("ngModelChange",function(i){n.CHM(t);const r=n.oxw();return n.KtG(r.filter=i)})("ngModelChange",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.filterAndSort())}),n.qZA(),n._uU(14,"\n\n    "),n.TgZ(15,"table",5),n._uU(16,"\n      "),n.TgZ(17,"thead"),n._uU(18,"\n        "),n.TgZ(19,"tr",6),n.NdJ("predicateChange",function(i){n.CHM(t);const r=n.oxw();return n.KtG(r.orderProp=i)})("ascendingChange",function(i){n.CHM(t);const r=n.oxw();return n.KtG(r.ascending=i)})("sortChange",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.filterAndSort())}),n._uU(20,"\n          "),n.TgZ(21,"th",7)(22,"span",8),n._uU(23,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),n.qZA(),n._uU(24," "),n._UZ(25,"fa-icon",9),n.qZA(),n._uU(26,"\n          "),n.TgZ(27,"th",10)(28,"span",11),n._uU(29,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"),n.qZA(),n._uU(30," "),n._UZ(31,"fa-icon",9),n.qZA(),n._uU(32,"\n        "),n.qZA(),n._uU(33,"\n      "),n.qZA(),n._uU(34,"\n\n      "),n.TgZ(35,"tbody"),n._uU(36,"\n        "),n.SjG(37,T,32,11,null,null,n.ikw),n.qZA(),n._uU(39,"\n    "),n.qZA(),n._uU(40,"\n  "),n.qZA(),n._uU(41,"\n")}if(2&o){const t=n.oxw();n.xp6(6),n.um2(6,t.isLoading?6:-1),n.xp6(1),n.Q6J("translateValues",n.VKq(6,A,t.loggers.length)),n.xp6(1),n.hij("\u0415\u0441\u0442\u044c ",t.loggers.length," \u043b\u043e\u0433\u0433\u0435\u0440\u043e\u0432."),n.xp6(5),n.Q6J("ngModel",t.filter),n.xp6(6),n.Q6J("predicate",t.orderProp)("ascending",t.ascending),n.xp6(18),n.wJu(t.filteredAndOrderedLoggers)}}let b=(()=>{class o{constructor(t){this.logsService=t,this.isLoading=!1,this.filter="",this.orderProp="name",this.ascending=!0}ngOnInit(){this.findAndExtractLoggers()}changeLevel(t,e){this.logsService.changeLevel(t,e).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(t=>!this.filter||t.name.toLowerCase().includes(this.filter.toLowerCase())).sort((t,e)=>t[this.orderProp]<e[this.orderProp]?this.ascending?-1:1:t[this.orderProp]>e[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?t.name<e.name?-1:1:0)}findAndExtractLoggers(){this.isLoading=!0,this.logsService.findAll().pipe((0,d.x)(()=>{this.filterAndSort(),this.isLoading=!1})).subscribe({next:t=>this.loggers=Object.entries(t.loggers).map(([e,i])=>new C(e,i.effectiveLevel)),error:()=>this.loggers=[]})}static#n=this.\u0275fac=function(e){return new(e||o)(n.Y36(x))};static#t=this.\u0275cmp=n.Xpm({type:o,selectors:[["jhi-logs"]],standalone:!0,features:[n.jDz],decls:1,vars:1,consts:[[1,"table-responsive"],["id","logs-page-heading","jhiTranslate","logs.title","data-cy","logsPageHeading"],["jhiTranslate","logs.nbloggers",3,"translateValues"],["jhiTranslate","logs.filter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["jhiSortBy","name","scope","col"],["jhiTranslate","logs.table.name"],["icon","sort"],["jhiSortBy","level","scope","col"],["jhiTranslate","logs.table.level"],[1,"float-end","me-3"],[1,"spinner-border"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(e,i){1&e&&n.YNc(0,L,42,8),2&e&&n.um2(0,i.loggers?0:-1)},dependencies:[_.Z,u.mk,U.BN,Z.Z,u.OU,c.u5,c.Fj,c.JJ,c.On,p.Z,h.Z],encapsulation:2})}return o})()}}]);